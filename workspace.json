{
  "configuration" : { },
  "description" : "Description",
  "documentation" : {
    "decisions" : [ {
      "content" : "# 1. Record architecture decisions\n\nDate: 2024-05-11\n\n## Status\n\nAccepted\n\n## Context\n\nWe need to record the architectural decisions made on this project.\n\n## Decision\n\nWe will use Architecture Decision Records, as [described by Michael Nygard](http://thinkrelevance.com/blog/2011/11/15/documenting-architecture-decisions).\n\n## Consequences\n\nSee Michael Nygard's article, linked above. For a lightweight ADR toolset, see Nat Pryce's [adr-tools](https://github.com/npryce/adr-tools).\n",
      "date" : "2024-05-11T00:00:00Z",
      "format" : "Markdown",
      "id" : "1",
      "status" : "Accepted",
      "title" : "Record architecture decisions"
    }, {
      "content" : "# 2. Use Event Sourcing to improve consitency\n\nDate: 2024-05-11\n\n## Status\n\nAccepted\n\n## Context\n\nThe issue motivating this decision, and any context that influences or constrains the decision.\n\n## Decision\n\nThe change that we're proposing or have agreed to implement.\n\n## Consequences\n\nWhat becomes easier or more difficult to do and any risks introduced by the change that will need to be mitigated.\n",
      "date" : "2024-05-11T00:00:00Z",
      "format" : "Markdown",
      "id" : "2",
      "status" : "Accepted",
      "title" : "Use Event Sourcing to improve consitency"
    } ]
  },
  "id" : 1,
  "lastModifiedAgent" : "structurizr-javascript",
  "lastModifiedDate" : "2024-05-12T08:45:05Z",
  "model" : {
    "people" : [ {
      "description" : "Mobile Client",
      "id" : "1",
      "location" : "Unspecified",
      "name" : "User",
      "properties" : {
        "structurizr.dsl.identifier" : "user"
      },
      "relationships" : [ {
        "description" : "orders/list",
        "destinationId" : "7",
        "id" : "10",
        "properties" : {
          "structurizr.dsl.identifier" : "eed38587-a964-4883-bc4f-906c96d752d7"
        },
        "sourceId" : "1",
        "tags" : "Relationship"
      }, {
        "description" : "orders/list",
        "destinationId" : "6",
        "id" : "11",
        "linkedRelationshipId" : "10",
        "sourceId" : "1"
      }, {
        "description" : "orders/submit(UID)",
        "destinationId" : "7",
        "id" : "12",
        "properties" : {
          "structurizr.dsl.identifier" : "a190ca6e-050f-46cc-aef2-e0c7b0befdde"
        },
        "sourceId" : "1",
        "tags" : "Relationship"
      } ],
      "tags" : "Element,Person"
    } ],
    "softwareSystems" : [ {
      "documentation" : { },
      "id" : "2",
      "location" : "Unspecified",
      "name" : "External Investment System",
      "properties" : {
        "structurizr.dsl.identifier" : "eis"
      },
      "relationships" : [ {
        "description" : "orders/onComplete(UID)",
        "destinationId" : "14",
        "id" : "28",
        "properties" : {
          "structurizr.dsl.identifier" : "6b48df20-14af-44b2-beae-4d3a82526454"
        },
        "sourceId" : "2",
        "tags" : "Relationship"
      }, {
        "description" : "orders/onComplete(UID)",
        "destinationId" : "13",
        "id" : "29",
        "linkedRelationshipId" : "28",
        "sourceId" : "2"
      } ],
      "tags" : "Element,Software System"
    }, {
      "documentation" : { },
      "id" : "3",
      "location" : "Unspecified",
      "name" : "Portfolio Management System",
      "properties" : {
        "structurizr.dsl.identifier" : "pms"
      },
      "tags" : "Element,Software System"
    }, {
      "documentation" : { },
      "id" : "4",
      "location" : "Unspecified",
      "name" : "Firebase Cloud Messaging",
      "properties" : {
        "structurizr.dsl.identifier" : "fcm"
      },
      "relationships" : [ {
        "description" : "notifies changes",
        "destinationId" : "1",
        "id" : "36",
        "properties" : {
          "structurizr.dsl.identifier" : "8c8ab2ca-2211-4df2-98b0-8022c2efc91c"
        },
        "sourceId" : "4",
        "tags" : "Relationship"
      } ],
      "tags" : "Element,Software System"
    }, {
      "documentation" : { },
      "id" : "5",
      "location" : "Unspecified",
      "name" : "Message Broker",
      "properties" : {
        "structurizr.dsl.identifier" : "kafka"
      },
      "relationships" : [ {
        "description" : "consumes orders",
        "destinationId" : "15",
        "id" : "19",
        "properties" : {
          "structurizr.dsl.identifier" : "bc1cc0fe-e976-422e-89b4-b784d56026a1"
        },
        "sourceId" : "5",
        "tags" : "Relationship"
      }, {
        "description" : "consumes orders",
        "destinationId" : "13",
        "id" : "20",
        "linkedRelationshipId" : "19",
        "sourceId" : "5"
      }, {
        "description" : "consumes PENDING orders",
        "destinationId" : "16",
        "id" : "21",
        "properties" : {
          "structurizr.dsl.identifier" : "d8f037a5-8cf7-493f-ac80-fff92fe97660"
        },
        "sourceId" : "5",
        "tags" : "Relationship"
      }, {
        "description" : "consumes REQUESTED orders",
        "destinationId" : "17",
        "id" : "22",
        "properties" : {
          "structurizr.dsl.identifier" : "99845753-3673-4b34-8ea8-27f7acc14619"
        },
        "sourceId" : "5",
        "tags" : "Relationship"
      } ],
      "tags" : "Element,Software System"
    }, {
      "containers" : [ {
        "documentation" : { },
        "id" : "7",
        "name" : "API",
        "properties" : {
          "structurizr.dsl.identifier" : "mb.api"
        },
        "relationships" : [ {
          "description" : "creation request(UID)",
          "destinationId" : "5",
          "id" : "8",
          "properties" : {
            "structurizr.dsl.identifier" : "64f7e98b-23f6-491e-836d-19724b2487f0"
          },
          "sourceId" : "7",
          "tags" : "Relationship"
        }, {
          "description" : "notifies changes",
          "destinationId" : "4",
          "id" : "34",
          "properties" : {
            "structurizr.dsl.identifier" : "7bec02a5-98dc-4a9c-a61a-fdb403407ea7"
          },
          "sourceId" : "7",
          "tags" : "Relationship"
        } ],
        "tags" : "Element,Container"
      } ],
      "documentation" : { },
      "id" : "6",
      "location" : "Unspecified",
      "name" : "Application Gateway",
      "properties" : {
        "structurizr.dsl.identifier" : "mb"
      },
      "relationships" : [ {
        "description" : "creation request(UID)",
        "destinationId" : "5",
        "id" : "9",
        "linkedRelationshipId" : "8",
        "sourceId" : "6"
      }, {
        "description" : "orders/list",
        "destinationId" : "14",
        "id" : "26",
        "properties" : {
          "structurizr.dsl.identifier" : "82492a4c-fa77-4400-a4f5-b2105ff99fe2"
        },
        "sourceId" : "6",
        "tags" : "Relationship"
      }, {
        "description" : "orders/list",
        "destinationId" : "13",
        "id" : "27",
        "linkedRelationshipId" : "26",
        "sourceId" : "6"
      }, {
        "description" : "notifies changes",
        "destinationId" : "4",
        "id" : "35",
        "linkedRelationshipId" : "34",
        "sourceId" : "6"
      } ],
      "tags" : "Element,Software System"
    }, {
      "containers" : [ {
        "documentation" : { },
        "id" : "14",
        "name" : "API",
        "properties" : {
          "structurizr.dsl.identifier" : "cbs.api"
        },
        "tags" : "Element,Container"
      }, {
        "documentation" : { },
        "group" : "Investment Services",
        "id" : "15",
        "name" : "Order Creator",
        "properties" : {
          "structurizr.dsl.identifier" : "cbs.creator-app"
        },
        "relationships" : [ {
          "description" : "persists orders",
          "destinationId" : "18",
          "id" : "23",
          "properties" : {
            "structurizr.dsl.identifier" : "675f6eae-cff5-4c9f-82da-b7ec950459b5"
          },
          "sourceId" : "15",
          "tags" : "Relationship"
        } ],
        "tags" : "Element,Container"
      }, {
        "documentation" : { },
        "group" : "Investment Services",
        "id" : "16",
        "name" : "Order Validator",
        "properties" : {
          "structurizr.dsl.identifier" : "cbs.validator-app"
        },
        "relationships" : [ {
          "description" : "PENDING -> REQUESTED*",
          "destinationId" : "18",
          "id" : "24",
          "properties" : {
            "structurizr.dsl.identifier" : "8975bd2a-f3d7-408e-9dcb-0b8cbdda10f0"
          },
          "sourceId" : "16",
          "tags" : "Relationship"
        }, {
          "description" : "portfolio/reserveAmount",
          "destinationId" : "3",
          "id" : "39",
          "properties" : {
            "structurizr.dsl.identifier" : "212f0993-787f-4752-9de7-8d52b851f796"
          },
          "sourceId" : "16",
          "tags" : "Relationship"
        } ],
        "tags" : "Element,Container"
      }, {
        "documentation" : { },
        "group" : "Investment Services",
        "id" : "17",
        "name" : "Order Placer",
        "properties" : {
          "structurizr.dsl.identifier" : "cbs.placer-app"
        },
        "relationships" : [ {
          "description" : "REQUESTED -> COMPLETED*",
          "destinationId" : "18",
          "id" : "25",
          "properties" : {
            "structurizr.dsl.identifier" : "879c2657-2c9c-43b3-a3d9-9d0d36879776"
          },
          "sourceId" : "17",
          "tags" : "Relationship"
        }, {
          "description" : "placeOrder(UID)",
          "destinationId" : "2",
          "id" : "37",
          "properties" : {
            "structurizr.dsl.identifier" : "086071bc-59d4-45e2-b503-101093862ae7"
          },
          "sourceId" : "17",
          "tags" : "Relationship"
        } ],
        "tags" : "Element,Container"
      }, {
        "documentation" : { },
        "id" : "18",
        "name" : "Order Database",
        "properties" : {
          "structurizr.dsl.identifier" : "cbs.db"
        },
        "relationships" : [ {
          "description" : "produces order changes",
          "destinationId" : "5",
          "id" : "30",
          "properties" : {
            "structurizr.dsl.identifier" : "b1a8a805-385e-4817-8914-281c814113c9"
          },
          "sourceId" : "18",
          "tags" : "Relationship"
        } ],
        "tags" : "Element,Container"
      } ],
      "documentation" : {
        "sections" : [ {
          "content" : "## How do we handle third-party integration?\n\n### Context\nWe have a fragile third-party system. \nThe API can be very slow and may sometime timeout \nor even be completely overwhelmed by our requests and go down.\n\n### Approach\n\nWe need to introduce some kind of **back-loop** between\nthird-party system and our systems.\n\nWe will **decorrelate**\nthe speed of our producers (CBS)\nfrom ingestion speed of the third-party system (EIS)\nby persisting the requests to EIS in a kafka topic.\n\nIn this way, we can send them to EIS asynchronously\nwith a rate EIS is able to manage. For this, we need to **control the outflow** of requests to the third-party system.\nWe can correlate number of requests sent to the number of errors we observe.\n\n- If we observe 0 errors during an interval of *T*, we will send up to *N_max* events to the third-party system;\n- If we observe more than *E_max* errors during an interval of *T*, we will **stop** outflow;\n- Otherwise, we will send a number of events inversely proportional to the number of errors, i.e. *E/E_max*.\n\nActual values for *N_max*, *E_max*, and *T* should be found through experimentation.\n\n### Implementation notes\nNotes",
          "filename" : "01-integrations.md",
          "format" : "Markdown",
          "order" : 1,
          "title" : ""
        }, {
          "content" : "## Design for consistency\n\n### Context\nAs a bank, consistency is a key. \nWe need to avoid the need of manual reconciliation operations.\n\n### Approach\nWe will leverage database (RDMS) for managing data requiring high consistency.\nIn particular, when using RDMS with message broker, \nwe'll use Transaction Outbox pattern via Change Data Capture (CDC) plugins, like Debezium.\n\nWe will have a table for Orders and a table for OrderStatuses.\nOrders are immutable in CBS and identified by UID. \nOrderStatuses contains Order's UID, Status, Timestamp \nand additional information, like rejection reason.\n\n1) Mobile Client will generate an **UID** for the order \n2) submit it to rest API \n3) from where it will be sent to kafka topic: \"pending-creation\" when done and acknowledged to the client \n4) and then persisted to the DB. \n\nIn this way:\n- we minimize the time the connection will *remain open* from a mobile client to our system\n- we can handle creation in an *idempotent way*, ignoring duplicate submissions, if they arrive \n\nOrderStatuses are streamed to a kafka topic: \"order-statuses\", \nwhich then split using Kafka Streams by status code:\n- order-statuses-PENDING - consumed by Validator-App\n- order-statuses-REQUESTED - consumed by Placer-App\n- order-statuses-PLACED\n- order-statuses-COMPLETED\n- order-statuses-REJECTED\n\n",
          "filename" : "02-consistency.md",
          "format" : "Markdown",
          "order" : 2,
          "title" : ""
        }, {
          "content" : "## Notes on driving implementation\n\nSome notes\n",
          "filename" : "03-driving-dev.md",
          "format" : "Markdown",
          "order" : 3,
          "title" : ""
        }, {
          "content" : "## Mobile notification\n\nWe can leverage Google Firebase Cloud Messaging (FCM) for near real-time push notification to Android and IOS mobile devices.\n",
          "filename" : "04-mobile-notifications.md",
          "format" : "Markdown",
          "order" : 4,
          "title" : ""
        } ]
      },
      "id" : "13",
      "location" : "Unspecified",
      "name" : "Core Banking System",
      "properties" : {
        "structurizr.dsl.identifier" : "cbs"
      },
      "relationships" : [ {
        "description" : "produces order changes",
        "destinationId" : "5",
        "id" : "31",
        "linkedRelationshipId" : "30",
        "sourceId" : "13"
      }, {
        "description" : "notifies changes",
        "destinationId" : "7",
        "id" : "32",
        "properties" : {
          "structurizr.dsl.identifier" : "db698eb6-843b-4f10-8276-e89adacae28c"
        },
        "sourceId" : "13",
        "tags" : "Relationship"
      }, {
        "description" : "notifies changes",
        "destinationId" : "6",
        "id" : "33",
        "linkedRelationshipId" : "32",
        "sourceId" : "13"
      }, {
        "description" : "placeOrder(UID)",
        "destinationId" : "2",
        "id" : "38",
        "linkedRelationshipId" : "37",
        "sourceId" : "13"
      }, {
        "description" : "portfolio/reserveAmount",
        "destinationId" : "3",
        "id" : "40",
        "linkedRelationshipId" : "39",
        "sourceId" : "13"
      } ],
      "tags" : "Element,Software System"
    } ]
  },
  "name" : "Name",
  "properties" : {
    "structurizr.dsl" : "d29ya3NwYWNlIHsKICAgICFpZGVudGlmaWVycyBoaWVyYXJjaGljYWwKICAgICFhZHJzIGFkcgoKICAgIG1vZGVsIHsKICAgICAgICB1c2VyID0gcGVyc29uICJVc2VyIiAiTW9iaWxlIENsaWVudCIKICAgICAgICBlaXMgPSBzb2Z0d2FyZVN5c3RlbSAiRXh0ZXJuYWwgSW52ZXN0bWVudCBTeXN0ZW0iCiAgICAgICAgcG1zID0gc29mdHdhcmVTeXN0ZW0gIlBvcnRmb2xpbyBNYW5hZ2VtZW50IFN5c3RlbSIKICAgICAgICBmY20gPSBzb2Z0d2FyZVN5c3RlbSAiRmlyZWJhc2UgQ2xvdWQgTWVzc2FnaW5nIgoKICAgICAgICBrYWZrYSA9IHNvZnR3YXJlU3lzdGVtICJNZXNzYWdlIEJyb2tlciIKCiAgICAgICAgbWIgPSBzb2Z0d2FyZVN5c3RlbSAiQXBwbGljYXRpb24gR2F0ZXdheSIgewogICAgICAgICAgICBhcGkgPSBjb250YWluZXIgIkFQSSIKICAgICAgICAgICAgYXBpIC0+IGthZmthICJjcmVhdGlvbiByZXF1ZXN0KFVJRCkiCgogICAgICAgICAgICB1c2VyIC0+IGFwaSAib3JkZXJzL2xpc3QiCiAgICAgICAgICAgIHVzZXIgLT4gYXBpICJvcmRlcnMvc3VibWl0KFVJRCkiCiAgICAgICAgfQoKICAgICAgICBjYnMgPSBzb2Z0d2FyZVN5c3RlbSAiQ29yZSBCYW5raW5nIFN5c3RlbSIgewogICAgICAgICAgICAhYWRycyBhZHIvY2JzCiAgICAgICAgICAgICFkb2NzIGRvY3MvY2JzCgogICAgICAgICAgICBhcGkgPSBjb250YWluZXIgIkFQSSIKICAgICAgICAgICAgZ3JvdXAgIkludmVzdG1lbnQgU2VydmljZXMiIHsKICAgICAgICAgICAgICAgIGNyZWF0b3ItYXBwID0gY29udGFpbmVyICJPcmRlciBDcmVhdG9yIgogICAgICAgICAgICAgICAgdmFsaWRhdG9yLWFwcCA9IGNvbnRhaW5lciAiT3JkZXIgVmFsaWRhdG9yIgogICAgICAgICAgICAgICAgcGxhY2VyLWFwcCA9IGNvbnRhaW5lciAiT3JkZXIgUGxhY2VyIgogICAgICAgICAgICB9CiAgICAgICAgICAgIGRiID0gY29udGFpbmVyICJPcmRlciBEYXRhYmFzZSIKCiAgICAgICAgICAgIGthZmthIC0+IGNyZWF0b3ItYXBwICJjb25zdW1lcyBvcmRlcnMiCiAgICAgICAgICAgIGthZmthIC0+IHZhbGlkYXRvci1hcHAgImNvbnN1bWVzIFBFTkRJTkcgb3JkZXJzIgogICAgICAgICAgICBrYWZrYSAtPiBwbGFjZXItYXBwICJjb25zdW1lcyBSRVFVRVNURUQgb3JkZXJzIgoKICAgICAgICAgICAgY3JlYXRvci1hcHAgLT4gZGIgInBlcnNpc3RzIG9yZGVycyIKICAgICAgICAgICAgdmFsaWRhdG9yLWFwcCAtPiBkYiAiUEVORElORyAtPiBSRVFVRVNURUQqIgogICAgICAgICAgICBwbGFjZXItYXBwIC0+IGRiICJSRVFVRVNURUQgLT4gQ09NUExFVEVEKiIKICAgICAgICB9CiAgICAgICAgbWIgLT4gY2JzLmFwaSAib3JkZXJzL2xpc3QiCiAgICAgICAgZWlzIC0+IGNicy5hcGkgIm9yZGVycy9vbkNvbXBsZXRlKFVJRCkiCgogICAgICAgIGNicy5kYiAtPiBrYWZrYSAicHJvZHVjZXMgb3JkZXIgY2hhbmdlcyIKICAgICAgICBjYnMgLT4gbWIuYXBpICJub3RpZmllcyBjaGFuZ2VzIgogICAgICAgIG1iLmFwaSAtPiBmY20gIm5vdGlmaWVzIGNoYW5nZXMiCiAgICAgICAgZmNtIC0+IHVzZXIgIm5vdGlmaWVzIGNoYW5nZXMiCgogICAgICAgIGNicy5wbGFjZXItYXBwIC0+IGVpcyAicGxhY2VPcmRlcihVSUQpIgogICAgICAgIGNicy52YWxpZGF0b3ItYXBwIC0+IHBtcyAicG9ydGZvbGlvL3Jlc2VydmVBbW91bnQiCiAgICB9CgogICAgdmlld3MgewogICAgICAgIHN5c3RlbUNvbnRleHQgbWIgIk92ZXJ2aWV3IiB7CiAgICAgICAgICAgIGluY2x1ZGUgKgogICAgICAgICAgICBleGNsdWRlIGZjbQogICAgICAgICAgICBpbmNsdWRlIGVpcwogICAgICAgICAgICAjIGF1dG9sYXlvdXQgbHIKICAgICAgICB9CiAgICAgICAgY29udGFpbmVyIGNicyAiQ29yZSIgewogICAgICAgICAgICBpbmNsdWRlICoKICAgICAgICAgICAgIyBhdXRvTGF5b3V0CiAgICAgICAgfQogICAgICAgIGR5bmFtaWMgY2JzIHsKICAgICAgICAgICAgdGl0bGUgIk1ha2luZyBJbnZlc3RtZW50IE9yZGVyIgogICAgICAgICAgICB1c2VyIC0+IG1iLmFwaSAib3JkZXJzL3N1Ym1pdChVSUQpIgogICAgICAgICAgICBtYi5hcGkgLT4ga2Fma2EgInBlbmRpbmcgY3JlYXRpb24iCiAgICAgICAgICAgIGthZmthIC0+IGNicy5jcmVhdG9yLWFwcCAiY29uc3VtZXMgQ1JFQVRFRCBldmVudCIKICAgICAgICAgICAgY2JzLmNyZWF0b3ItYXBwIC0+IGNicy5kYiAicGVyc2lzdHMgb3JkZXJzIgogICAgICAgICAgICBrYWZrYSAtPiBjYnMudmFsaWRhdG9yLWFwcCAiY29uc3VtZXMgUEVORElORyBldmVudCIKICAgICAgICAgICAgY2JzLnZhbGlkYXRvci1hcHAgLT4gY2JzLmRiICJQRU5ESU5HIC0+IFJFUVVFU1RFRCoiCiAgICAgICAgICAgIGthZmthIC0+IGNicy5wbGFjZXItYXBwICJjb25zdW1lcyBSRVFVRVNURUQgZXZlbnQiCiAgICAgICAgICAgIGNicy5wbGFjZXItYXBwIC0+IGNicy5kYiAiUkVRVUVTVEVEIC0+IENPTVBMRVRFRCoiCiAgICAgICAgICAgIGF1dG9MYXlvdXQgbHIKICAgICAgICB9CgogICAgICAgIHN0eWxlcyB7CiAgICAgICAgICAgIGVsZW1lbnQgIlNvZnR3YXJlIFN5c3RlbSIgewogICAgICAgICAgICAgICAgYmFja2dyb3VuZCAjMTE2OGJkCiAgICAgICAgICAgICAgICBjb2xvciAjZmZmZmZmCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxlbWVudCAiUGVyc29uIiB7CiAgICAgICAgICAgICAgICBzaGFwZSBwZXJzb24KICAgICAgICAgICAgICAgIGJhY2tncm91bmQgIzA4NDI3NgogICAgICAgICAgICAgICAgY29sb3IgI2ZmZmZmZgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKfQo="
  },
  "views" : {
    "configuration" : {
      "branding" : { },
      "lastSavedView" : "Core",
      "metadataSymbols" : "SquareBrackets",
      "styles" : {
        "elements" : [ {
          "background" : "#1168bd",
          "color" : "#ffffff",
          "tag" : "Software System"
        }, {
          "background" : "#084276",
          "color" : "#ffffff",
          "shape" : "Person",
          "tag" : "Person"
        } ]
      },
      "terminology" : { }
    },
    "containerViews" : [ {
      "dimensions" : {
        "height" : 3233,
        "width" : 3220
      },
      "elements" : [ {
        "id" : "2",
        "x" : 1400,
        "y" : 215
      }, {
        "id" : "3",
        "x" : 2015,
        "y" : 210
      }, {
        "id" : "5",
        "x" : 165,
        "y" : 1700
      }, {
        "id" : "6",
        "x" : 180,
        "y" : 755
      }, {
        "id" : "14",
        "x" : 925,
        "y" : 760
      }, {
        "id" : "15",
        "x" : 1267,
        "y" : 2155
      }, {
        "id" : "16",
        "x" : 1267,
        "y" : 1684
      }, {
        "id" : "17",
        "x" : 1267,
        "y" : 1213
      }, {
        "id" : "18",
        "x" : 2070,
        "y" : 2175
      } ],
      "externalSoftwareSystemBoundariesVisible" : false,
      "key" : "Core",
      "order" : 2,
      "paperSize" : "A3_Portrait",
      "relationships" : [ {
        "id" : "19",
        "vertices" : [ {
          "x" : 790,
          "y" : 2340
        }, {
          "x" : 1105,
          "y" : 2345
        } ]
      }, {
        "id" : "21"
      }, {
        "id" : "22",
        "vertices" : [ {
          "x" : 790,
          "y" : 1360
        } ]
      }, {
        "id" : "23"
      }, {
        "id" : "24"
      }, {
        "id" : "25",
        "vertices" : [ {
          "x" : 2262,
          "y" : 1767
        } ]
      }, {
        "id" : "26",
        "vertices" : [ {
          "x" : 770,
          "y" : 900
        } ]
      }, {
        "id" : "28",
        "vertices" : [ {
          "x" : 1150,
          "y" : 360
        } ]
      }, {
        "id" : "30",
        "vertices" : [ {
          "x" : 2245,
          "y" : 2845
        }, {
          "x" : 540,
          "y" : 2820
        } ]
      }, {
        "id" : "37"
      }, {
        "id" : "39",
        "vertices" : [ {
          "x" : 1920,
          "y" : 1792
        }, {
          "x" : 2250,
          "y" : 1115
        }, {
          "x" : 2240,
          "y" : 840
        } ]
      }, {
        "id" : "9"
      } ],
      "softwareSystemId" : "13"
    } ],
    "dynamicViews" : [ {
      "automaticLayout" : {
        "applied" : false,
        "edgeSeparation" : 0,
        "implementation" : "Graphviz",
        "nodeSeparation" : 300,
        "rankDirection" : "LeftRight",
        "rankSeparation" : 300,
        "vertices" : false
      },
      "elementId" : "13",
      "elements" : [ {
        "id" : "1",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "5",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "7",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "15",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "16",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "17",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "18",
        "x" : 0,
        "y" : 0
      } ],
      "externalBoundariesVisible" : false,
      "generatedKey" : true,
      "key" : "Dynamic-001",
      "order" : 3,
      "relationships" : [ {
        "description" : "orders/submit(UID)",
        "id" : "12",
        "order" : "1",
        "response" : false
      }, {
        "description" : "pending creation",
        "id" : "8",
        "order" : "2",
        "response" : false
      }, {
        "description" : "consumes CREATED event",
        "id" : "19",
        "order" : "3",
        "response" : false
      }, {
        "description" : "persists orders",
        "id" : "23",
        "order" : "4",
        "response" : false
      }, {
        "description" : "consumes PENDING event",
        "id" : "21",
        "order" : "5",
        "response" : false
      }, {
        "description" : "PENDING -> REQUESTED*",
        "id" : "24",
        "order" : "6",
        "response" : false
      }, {
        "description" : "consumes REQUESTED event",
        "id" : "22",
        "order" : "7",
        "response" : false
      }, {
        "description" : "REQUESTED -> COMPLETED*",
        "id" : "25",
        "order" : "8",
        "response" : false
      } ],
      "title" : "Making Investment Order"
    } ],
    "systemContextViews" : [ {
      "dimensions" : {
        "height" : 1350,
        "width" : 3050
      },
      "elements" : [ {
        "id" : "1",
        "x" : 199,
        "y" : 200
      }, {
        "id" : "2",
        "x" : 2399,
        "y" : 250
      }, {
        "id" : "5",
        "x" : 1645,
        "y" : 745
      }, {
        "id" : "6",
        "x" : 899,
        "y" : 250
      }, {
        "id" : "13",
        "x" : 1649,
        "y" : 250
      } ],
      "enterpriseBoundaryVisible" : true,
      "key" : "Overview",
      "order" : 1,
      "relationships" : [ {
        "id" : "11"
      }, {
        "id" : "20",
        "vertices" : [ {
          "x" : 1995,
          "y" : 650
        } ]
      }, {
        "id" : "27",
        "vertices" : [ {
          "x" : 1499,
          "y" : 550
        } ]
      }, {
        "id" : "29",
        "vertices" : [ {
          "x" : 2249,
          "y" : 250
        } ]
      }, {
        "id" : "31",
        "vertices" : [ {
          "x" : 1725,
          "y" : 630
        } ]
      }, {
        "id" : "33",
        "vertices" : [ {
          "x" : 1499,
          "y" : 250
        } ]
      }, {
        "id" : "38",
        "vertices" : [ {
          "x" : 2249,
          "y" : 550
        } ]
      }, {
        "id" : "9",
        "vertices" : [ {
          "x" : 1130,
          "y" : 875
        } ]
      } ],
      "softwareSystemId" : "6"
    } ]
  }
}